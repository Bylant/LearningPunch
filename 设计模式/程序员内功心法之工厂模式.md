设计模式可以帮助我们更好的解决实际问题，设计模式是前人经验，学习设计模式也是锻炼将业务需求转换位技术实现的一种非常有效的方式。

### 架构设计七大原则

**单一职责**：一个 Class Method Interface 只负责一件事；

**迪米特法则**：最少知道 不和陌生人说话；

**接口隔离**：尽量保证接口的纯洁性，客户端不应该依赖不需要的接口；

**开闭原则**：对扩展开放，对修改关闭；

**合成复用原则**：使用聚合、组合，尽量避免使用继承达到复用代码的目的；

**里氏替换原则**：子类可以扩展父类功能但是不能修改父类功能，父类可以被子类在不修改任何逻辑的情况下进行替代；

**依赖倒置原则**：通过抽象使得各个类或者模块互不影响，实现松耦合；

### 简单工厂模式

由一个工厂对象决定创建出哪一种产品类型的实例。

简单工厂模式适用于工厂类负责创建的对象比较少的场景，并且客户端需要传入工厂类参数来告知工厂创建何种对象，但是可以不关系对象的创建逻辑。

**弊端**：不利于业务扩展，每次都需要修改工厂代码，不符合开闭原则。

对工厂继续优化，使用反射来创建对象，此时只需要传递全限定类名称即可。

此时传递参数是字符串类型，有个问题，方法参数是字符串，可控性有待提升，而且还需要强制转型，所以我们继续优化，传递参数变成 `Class extends ICourse>`,此时就该工程就只接受实现了 ICourse 接口的类，也减少了错误发生的可能性。

### 工厂方法模式

定义一个创建对象的接口，但让实现这个接口的类来决定实例化哪个类，工厂方法让类的实例化推迟到子类中进行。

工厂方法模式主要解决产品扩展的问题，简单工厂汇总，随着产品链的丰富，，如果每个课程的创建逻辑有区别的话，工厂的职责会变得越来越多，并不利于维护。

根据单一职责我们应该将职能拆分，专人干专事。也就是说 Java 课程由 Java 工厂创建，Python 课程由 Python 工厂创建，我们对工厂本身再做一层抽象。

工厂方法适用于以下场景： 

1、创建对象需要大量重复的代码。 

2、客户端（应用层）不依赖于产品类实例如何被创建、实现等细节。 

3、一个类通过其子类来指定创建哪个对象。 

工厂方法也有缺点： 

1、类的个数容易过多，增加复杂度。 

2、增加了系统的抽象性和理解难度。

### 抽象工厂模式

指提供一个创建一系列相关或相互依赖对象的接口，无须指定他们具体的类。

**产品和产品等级结构以及产品族的关系**

一个产品族对应一个工厂

**缺点**： 

1、规定了所有可能被创建的产品集合，产品族中扩展新的产品困难，需要修改抽象工厂 

的接口。 

2、增加了系统的抽象性和理解难度。 

### 实践案例 - 手写连接池

