今天给大家介绍一下阿里 OSS，根据官网介绍：

> 阿里云对象存储服务（Object Storage Service，简称 OSS），是阿里云提供的海量、安全、低成本、高可靠的云存储服务。其数据设计持久性不低于 99.9999999999%（12 个 9），服务设计可用性（或业务连续性）不低于 99.995%。

今天不讲 OSS 的具体使用，因为整个 OSS 体系内容还是比较多的，一两篇文章也讲不完，所以今天主要以 OSS 的身份认证中的 STS 临时授权为例，进行讲述。

### 业务场景

我们开发中使用文件服务器的目的就是用于上传或者下载文件，Web 端常见的上传方法是用户在浏览器或 APP 端上传文件到应用服务器，应用服务器再把文件上传到 OSS。

这个时候你可以思考一下，采取这种上传方式有什么弊端吗？

沉思.jpg

好了，你的思考应该结束了，接下来我们盘点一下：

1. 上传速度的问题，因为用户需要先上传到我们的应用服务器，然后再由应用服务器来上传到 OSS。此时网络上传速度直接依赖于我们的应用服务器上传带宽。
2. 扩展性较差，后续如果用户飙升，应用服务器的扩展可能会产生瓶颈。

暂时先列这两点，期待你补充更多的点留言告诉我。

### 技术方案

在以上的业务场景中，通过 OSS 官方文档，我们可以大致找到如下技术方案

#### 直接使用 Browser.js SDK 上传文件到 OSS

兼容 IE 10 以上的主流所有浏览器

#### 使用表单方式上传到 OSS

利用 OSS 提供的 PostObject 接口，使用表单上传方式将文件上传到 OSS

#### 使用小程序方式上传文件到 OSS  

通过小程序，如微信小程序、支付宝小程序等，利用 OSS 提供的 PostObject 接口来实现表单上传

接下来详细讲述一下 Web 端使用 PostObject 直传 OSS 的方案

### Web 端 PostObject 直传实践

数据直传 OSS 需要调用 PostObject 接口，而调用此接口的上传方式又可以有以下三种：

#### 客户端使用 JS 代码完成签名

#### 服务端完成签名

#### 服务端完成签名并设置上传回调

> 我擦，你妹的，具体看了下官方文档，竟然还挺全，阿里云难道有这么全面的技术文档出来，所以呢，哈哈，哪我就不写了，写出来也不一定比官方教程好，直接贴上官网，大家自己去看一看，所有问题也就应该都迎刃而解了！
>
> 有问题可以留言来沟通

### 推荐阅读

[Web 端 PostObject 直传实践简介 | 官方文档](https://help.aliyun.com/document_detail/31923.html?spm=a2c4g.11186623.6.1384.5c6c74b8BKYLma)

[STS临时授权访问OSS](https://blog.csdn.net/qq_34845394/article/details/93399789)

[阿里云 OSS 对象存储 STS 鉴权配置以及 JAVA-SDK 代码](https://blog.csdn.net/lz199719/article/details/80243742)