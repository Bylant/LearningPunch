为了最大程度避免数据写入时 IO 瓶颈带来的性能问题，MySQL 采用了这样一种缓存机制：

当修改数据库内数据时，InnoDB 先将该数据从磁盘读物到内存中，修改内存中的数据拷贝，并将该修改行为持久化到磁盘上的事务日志（先写 redo log buffer,在定期批量写入），而不是每次都直接将修改过的数据记录到磁盘内，等事务日志持久化完成之后，内存中的脏数据可以慢慢刷会磁盘，称之为 Write-Ahead Logging(预写式日志)。

事务日志采用的是追加写入，顺序 IO 会带来更好的性能优势，请参考文章 ... ...



为了避免脏数据刷回到磁盘过程中，掉电或系统故障带来的数据丢失问题，InnoDB 采用事务日志（Redo Log）来解决问题，下面开始介绍 Redo Log.

### Redo Log

> Redo 意为重做，以恢复操作为目的，重现操作的某个状态,用于在实例故障恢复时，继续哪些已经 commit 但数据尚未完全回写到磁盘的事务。
>
>
>
> 事务中操作的所有数据，都会将最新的数据备份到一个地方，这个地方就叫做 Redo Log

#### Redo Log 的持久化

它并不是随着事务的提交才写入的，而是再说事务的执行过程中，便开始写如 Redo 中，具体的落盘策略可以进行配置



简单总结来看：Redo Log 是为了实现事务的持久化而出现的产物

**它如何实现事务的持久性**：

> 在某一时间点实例发生故障，但是尚有脏页未写入磁盘，在重启MySQL服务的时候，会根据 Redo Log 进行重做，从而把事务未写入磁盘的数据进行持久化。

### Undo Log

>undo 意为取消，以撤销操作为目的，返回指定某个状态的操作





